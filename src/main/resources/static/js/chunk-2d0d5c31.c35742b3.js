(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d5c31"],{7057:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-row",[a("el-col",[a("el-button",{attrs:{plain:""},on:{click:t.handleAdd}},[t._v("新增流")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"url",label:"流"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注",width:"100px"}}),a("el-table-column",{attrs:{prop:"status",label:"流状态",width:"200px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"开启推流","inactive-text":"停止"},on:{change:function(a){return t.changeStatus(a,e.row)}},model:{value:e.row.status,callback:function(a){t.$set(e.row,"status",a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return t.handleStop(e.row)}}},[t._v("停止并删除")])]}}])})],1),a("el-dialog",{attrs:{title:"编辑流",visible:t.showAdd,width:"650px","append-to-body":""},on:{"update:visible":function(e){t.showAdd=e}}},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"url",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入流地址"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.submitForm}},[t._v("确 定")]),a("el-button",{on:{click:function(e){t.showAdd=!1}}},[t._v("取 消")])],1)],1)],1)},s=[],l={data:function(){return{form:{},rules:{},showAdd:!1,tableData:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.$http.get("/list").then((function(e){200==e.data.code&&(t.tableData=e.data.data)}))},handleAdd:function(){this.reset(),this.showAdd=!0},handleStop:function(t){var e=this;this.$http.get("/del",{url:t.url}).then((function(t){200==t.data.code&&(e.$message.success(t.data.msg),e.getList())}))},submitForm:function(){var t=this;this.$http.get("/add",this.form).then((function(e){200==e.data.code&&(t.$message.success(e.data.msg),t.showAdd=!1,t.getList())}))},changeStatus:function(t,e){var a=this,o=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t?this.$http.get("/start",{url:e.url}).then((function(t){200==t.data.code&&(a.$message.success(t.data.msg),setTimeout((function(){a.getList(),o.close()}),3e3))})):this.$http.get("/stop",{url:e.url}).then((function(t){200==t.data.code&&(a.$message.success(t.data.msg),setTimeout((function(){a.getList(),o.close()}),3e3))}))},reset:function(){this.form={id:void 0,num:void 0,remark:void 0}}}},n=l,r=a("2877"),i=Object(r["a"])(n,o,s,!1,null,null,null);e["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0d5c31.c35742b3.js.map